!function(){var e=void 0,t=void 0;!function n(t,r,i){function o(l,a){if(!r[l]){if(!t[l]){var u="function"==typeof e&&e;if(!a&&u)return u(l,!0);if(s)return s(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var d=r[l]={exports:{}};t[l][0].call(d.exports,function(e){var n=t[l][1][e];return o(n?n:e)},d,d.exports,n,t,r,i)}return r[l].exports}for(var s="function"==typeof e&&e,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(e,n,r){(function(){"use strict";function e(){}function r(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function i(e){return function(){return this[e].apply(this,arguments)}}var o=e.prototype,s=this,l=s.EventEmitter;o.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},o.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},o.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},o.addListener=function(e,t){var n,i=this.getListenersAsObject(e),o="object"==typeof t;for(n in i)i.hasOwnProperty(n)&&-1===r(i[n],t)&&i[n].push(o?t:{listener:t,once:!1});return this},o.on=i("addListener"),o.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},o.once=i("addOnceListener"),o.defineEvent=function(e){return this.getListeners(e),this},o.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},o.removeListener=function(e,t){var n,i,o=this.getListenersAsObject(e);for(i in o)o.hasOwnProperty(i)&&(n=r(o[i],t),-1!==n&&o[i].splice(n,1));return this},o.off=i("removeListener"),o.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},o.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},o.manipulateListeners=function(e,t,n){var r,i,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)o.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?o.call(this,r,i):s.call(this,r,i));return this},o.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},o.removeAllListeners=i("removeEvent"),o.emitEvent=function(e,t){var n,r,i,o,s=this.getListenersAsObject(e);for(i in s)if(s.hasOwnProperty(i))for(r=s[i].length;r--;)n=s[i][r],n.once===!0&&this.removeListener(e,n.listener),o=n.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},o.trigger=i("emitEvent"),o.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},o.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},o._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},o._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return s.EventEmitter=l,e},"function"==typeof t&&t.amd?t(function(){return e}):"object"==typeof n&&n.exports?n.exports=e:s.EventEmitter=e}).call(this)},{}],2:[function(e,t,n){window.STB_Admin=e("./admin/_admin.js")},{"./admin/_admin.js":3}],3:[function(e,t,n){t.exports=function(t){"use strict";function n(){l.find(".stb-trigger-options").toggle(""!==this.value)}function r(){t(this).parents("tr").remove()}function i(){var e="tr"===this.tagName.toLowerCase()?this:t(this).parents("tr").get(0),n=e.querySelector(".stb-rule-condition").value,r=e.querySelector("input.stb-rule-value"),i=r.cloneNode(!0),o=t(i);switch(t(e.querySelectorAll(".stb-helper")).remove(),i.removeAttribute("name"),i.className+=" stb-helper",r.parentNode.insertBefore(i,r.nextSibling),i.style.display="block",o.change(function(){r.value=this.value}),r.style.display="none",f.style.display="none",n){default:i.placeholder=h.enterCommaSeparatedValues;break;case"":case"everywhere":r.value="",i.style.display="none";break;case"is_single":case"is_post":i.placeholder=h.enterCommaSeparatedPosts,o.suggest(ajaxurl+"?action=stb_autocomplete&type=post",{multiple:!0,multipleSep:","});break;case"is_page":i.placeholder=h.enterCommaSeparatedPages,o.suggest(ajaxurl+"?action=stb_autocomplete&type=page",{multiple:!0,multipleSep:","});break;case"is_post_type":i.placeholder=h.enterCommaSeparatedPostTypes,o.suggest(ajaxurl+"?action=stb_autocomplete&type=post_type",{multiple:!0,multipleSep:","});break;case"is_url":i.placeholder=h.enterCommaSeparatedRelativeUrls;break;case"is_post_in_category":o.suggest(ajaxurl+"?action=stb_autocomplete&type=category",{multiple:!0,multipleSep:","});break;case"manual":i.placeholder="",f.style.display=""}}function o(){var e={key:s.querySelectorAll(".stb-rule-row").length},n=p(e);return t(document.getElementById("stb-box-rules")).after(n),!1}var s=document.getElementById("stb-box-options-controls"),l=t(s);if(0!==l.length){var a=e("../_event-emitter.js"),u=new a,c=e("./_option.js"),d=e("./_designer.js")(t,c,u),p=wp.template("rule-row-template"),h=stb_i18n,f=s.querySelector(".stb-manual-hint");return l.on("click",".stb-add-rule",o),l.on("click",".stb-remove-rule",r),l.on("change",".stb-rule-condition",i),l.find(".stb-auto-show-trigger").on("change",n),t(window).load(function(){"undefined"==typeof window.tinyMCE&&(document.getElementById("notice-notinymce").style.display="block")}),t(".stb-rule-row").each(i),{Designer:d,Option:c,events:u}}}(window.jQuery)},{"../_event-emitter.js":1,"./_designer.js":4,"./_option.js":5}],4:[function(e,t,n){var r=function(e,t,n){function r(){"object"==typeof window.tinyMCE&&null!==tinyMCE.get("content")&&(l=e("#content_ifr"),s=l.contents().find("html"),s.css({background:"white"}),a=s.find("#tinymce"),a.addClass("scroll-triggered-box stb stb-"+c),a.css({margin:0,background:"white",display:"inline-block",width:"auto","min-width":"240px",position:"relative"}),a.get(0).style.cssText+=";padding: 25px !important;",u=document.createElement("style"),u.setAttribute("type","text/css"),u.id="stb-manual-css",e(u).appendTo(s.find("head")),p=!0,n.trigger("editor.init"),e(document).trigger("editorInit.stb"))}function i(){return p?(u.innerHTML=d.manualCSS.getValue(),a.css({"border-color":d.borderColor.getColorValue(),"border-width":d.borderWidth.getPxValue(),"border-style":d.borderStyle.getValue(),"background-color":d.backgroundColor.getColorValue(),width:d.width.getPxValue(),color:d.color.getColorValue()}),n.trigger("editor.styles.apply"),e(document).trigger("applyBoxStyles.stb"),!0):!1}function o(){for(var t in d)"theme"!==t.substring(0,5)&&d[t].clear();i(),n.trigger("editor.styles.reset"),e(document).trigger("resetBoxStyles.stb")}var s,l,a,u,c=document.getElementById("post_ID").value||0,d={},p=!1,h=e("#stb-box-appearance-controls");return d.borderColor=new t("border-color"),d.borderWidth=new t("border-width"),d.borderStyle=new t("border-style"),d.backgroundColor=new t("background-color"),d.width=new t("width"),d.color=new t("color"),d.manualCSS=new t("manual-css"),h.find("input.stb-color-field").wpColorPicker({change:i,clear:i}),h.find(":input").not(".stb-color-field").change(i),n.on("editor.init",i),{init:r,resetStyles:o,options:d}};t.exports=r},{}],5:[function(e,t,n){var r=function(e){var t=window.jQuery;"string"==typeof e&&(e=document.getElementById("stb-"+e)),this._element=e,this.getColorValue=function(){return this._element.value.length>0?t(this._element).hasClass("wp-color-field")?t(this._element).wpColorPicker("color"):this._element.value:""},this.getPxValue=function(e){return this._element.value.length>0?parseInt(this._element.value)+"px":e||""},this.getValue=function(e){return this._element.value.length>0?this._element.value:e||""},this.clear=function(){this._element.value=""},this.setValue=function(e){this._element.value=e}};t.exports=r},{}]},{},[2])}();
//# sourceMappingURL=admin-script.min.js.map
